{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/luca/code/lucapasquale/linking-bio/packages/frontend/src/modules/Admin/routes/Home/index.tsx\";\nimport React from 'react';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { Fab, makeStyles } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport { UserHeader } from '~components/UserHeader';\nimport { userPageQuery } from '~Admin/graphql/user-page';\nimport { LoadingContent } from '~Admin/components/LoadingContent';\nimport { SortableLinks } from '~Admin/routes/Home/components/SortableLinks';\nconst useStyles = makeStyles(theme => ({\n  section: {\n    paddingBottom: theme.spacing(2)\n  },\n  addLinkButton: {\n    alignSelf: 'flex-end'\n  }\n}));\nexport const AdminHome = () => {\n  const classes = useStyles();\n  const {\n    loading,\n    data,\n    error\n  } = userPageQuery();\n\n  if (error) {\n    Router.push('/');\n    return null;\n  }\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (!data || !data.user) {\n    Router.push('/');\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(UserHeader, {\n      page: data.user.page\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: classes.section,\n      children: /*#__PURE__*/_jsxDEV(SortableLinks, {\n        page: data.user.page\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      passHref: true,\n      href: \"/admin/links/create\",\n      children: /*#__PURE__*/_jsxDEV(Fab, {\n        color: \"secondary\",\n        size: \"medium\",\n        className: classes.addLinkButton,\n        children: /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};","map":{"version":3,"sources":["/home/luca/code/lucapasquale/linking-bio/packages/frontend/src/modules/Admin/routes/Home/index.tsx"],"names":["React","Link","Router","Fab","makeStyles","Add","UserHeader","userPageQuery","LoadingContent","SortableLinks","useStyles","theme","section","paddingBottom","spacing","addLinkButton","alignSelf","AdminHome","classes","loading","data","error","push","user","page"],"mappings":";;;AAAA,OAAOA,KAAP,MAA0B,OAA1B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,SAASC,GAAT,EAAcC,UAAd,QAAgC,mBAAhC;AACA,SAASC,GAAT,QAAoB,oBAApB;AAEA,SAASC,UAAT,QAA2B,wBAA3B;AAEA,SAASC,aAAT,QAA8B,0BAA9B;AACA,SAASC,cAAT,QAA+B,kCAA/B;AACA,SAASC,aAAT,QAA8B,6CAA9B;AAEA,MAAMC,SAAS,GAAGN,UAAU,CAAEO,KAAD,KAAY;AACvCC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,aAAa,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd;AAAjB,GAD8B;AAEvCC,EAAAA,aAAa,EAAE;AAAEC,IAAAA,SAAS,EAAE;AAAb;AAFwB,CAAZ,CAAD,CAA5B;AAKA,OAAO,MAAMC,SAAa,GAAG,MAAM;AACjC,QAAMC,OAAO,GAAGR,SAAS,EAAzB;AACA,QAAM;AAAES,IAAAA,OAAF;AAAWC,IAAAA,IAAX;AAAiBC,IAAAA;AAAjB,MAA2Bd,aAAa,EAA9C;;AAEA,MAAIc,KAAJ,EAAW;AACTnB,IAAAA,MAAM,CAACoB,IAAP,CAAY,GAAZ;AACA,WAAO,IAAP;AACD;;AAED,MAAIH,OAAJ,EAAa;AACX,wBAAO,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAED,MAAI,CAACC,IAAD,IAAS,CAACA,IAAI,CAACG,IAAnB,EAAyB;AACvBrB,IAAAA,MAAM,CAACoB,IAAP,CAAY,GAAZ;AACA,WAAO,IAAP;AACD;;AAED,sBACE;AAAA,4BACE,QAAC,UAAD;AAAY,MAAA,IAAI,EAAEF,IAAI,CAACG,IAAL,CAAUC;AAA5B;AAAA;AAAA;AAAA;AAAA,YADF,eAGE;AAAS,MAAA,SAAS,EAAEN,OAAO,CAACN,OAA5B;AAAA,6BACE,QAAC,aAAD;AAAe,QAAA,IAAI,EAAEQ,IAAI,CAACG,IAAL,CAAUC;AAA/B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAHF,eAOE,QAAC,IAAD;AAAM,MAAA,QAAQ,MAAd;AAAe,MAAA,IAAI,EAAC,qBAApB;AAAA,6BACE,QAAC,GAAD;AAAK,QAAA,KAAK,EAAC,WAAX;AAAuB,QAAA,IAAI,EAAC,QAA5B;AAAqC,QAAA,SAAS,EAAEN,OAAO,CAACH,aAAxD;AAAA,+BACE,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAPF;AAAA,kBADF;AAeD,CAjCM","sourcesContent":["import React, { FC } from 'react'\nimport Link from 'next/link'\nimport Router from 'next/router'\nimport { Fab, makeStyles } from '@material-ui/core'\nimport { Add } from '@material-ui/icons'\n\nimport { UserHeader } from '~components/UserHeader'\n\nimport { userPageQuery } from '~Admin/graphql/user-page'\nimport { LoadingContent } from '~Admin/components/LoadingContent'\nimport { SortableLinks } from '~Admin/routes/Home/components/SortableLinks'\n\nconst useStyles = makeStyles((theme) => ({\n  section: { paddingBottom: theme.spacing(2) },\n  addLinkButton: { alignSelf: 'flex-end' },\n}))\n\nexport const AdminHome: FC = () => {\n  const classes = useStyles()\n  const { loading, data, error } = userPageQuery()\n\n  if (error) {\n    Router.push('/')\n    return null\n  }\n\n  if (loading) {\n    return <LoadingContent />\n  }\n\n  if (!data || !data.user) {\n    Router.push('/')\n    return null\n  }\n\n  return (\n    <>\n      <UserHeader page={data.user.page} />\n\n      <section className={classes.section}>\n        <SortableLinks page={data.user.page} />\n      </section>\n\n      <Link passHref href=\"/admin/links/create\">\n        <Fab color=\"secondary\" size=\"medium\" className={classes.addLinkButton}>\n          <Add />\n        </Fab>\n      </Link>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}